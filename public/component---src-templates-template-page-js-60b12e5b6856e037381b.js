(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Hpf8:function(e,t,a){},YnVx:function(e,t,a){},ZdnU:function(e,t,a){},u7bY:function(e,t,a){"use strict";a.r(t);a("Wbzz");var n=a("q1tI"),r=a.n(n),c=a("KQm4"),s=function(e){var t=e.setState,a=e.state;return r.a.createElement("main",{"data-testid":"start",className:"StartScreen"},r.a.createElement("h1",null,"Start Screen"),r.a.createElement("h2",{className:"lesson-title"},a.title),r.a.createElement("h3",{className:"intro-title"},a.description),r.a.createElement("button",{id:"start",className:"btn-start btn",onClick:function(){return t(Object.assign({},a,{startScreenActive:!1,activityScreenActive:!0}))}},"Start"))};s.defaultProps={title:"",lessonTitle:""};var l=s,i=Object(n.createContext)({});a("ZdnU");var o=function(){var e,t=Object(n.useContext)(i),a=t.state,c=t.shiftKey,s=t.activeKey,l=Object(n.useState)(!1),o=l[0],u=l[1],m=Object(n.useState)([]),d=m[0],v=m[1],f=navigator.userAgent.includes("Mac"),E="ctrl";o||(e="all"==a.enabledKeys?["`","1","2","3","4","5","6","7","8","9","0","-","=","~","!","@","#","$","%","^","&","*","(",")","_","+","tab","q","w","e","r","t","y","u","i","o","p","caps lock","a","s","d","f","g","h","j","k","l",";","'","enter",":",'"',"<",">","?","shift","z","x","c","v","b","n","m",",",".","/","shift","space",E]:a.enabledKeys.split(" "),f||(E="cmd",console.log("mac")),v(e),u(!0));var p={row1:["`","1","2","3","4","5","6","7","8","9","0","-","="],row2:["tab","q","w","e","r","t","y","u","i","o","p"],row3:["caps lock","a","s","d","f","g","h","j","k","l",";","'","enter"],row4:["shift","z","x","c","v","b","n","m",",",".","/","shift"],row5:[E,"space",E]};return c&&(p={row1:["~","!","@","#","$","%","^","&","*","(",")","_","+"],row2:["tab","Q","W","E","R","T","Y","U","I","O","P"],row3:["caps lock","A","S","D","F","G","H","J","K","L",":",'"',"enter"],row4:["shift","Z","X","C","V","B","N","M","<",">","?","shift"],row5:[E,"space",E]}),r.a.createElement("div",{className:"keyboard-con"},r.a.createElement("div",{className:"row row-1"},p.row1.map((function(e,t){return r.a.createElement("div",{className:"key "+e+" "+(e===s?"active":"")+" "+(d.includes(e.toLowerCase())?"enabled":"disabled"),key:t},e)}))),r.a.createElement("div",{className:"row row-2"},p.row2.map((function(e,t){return r.a.createElement("div",{className:"key "+e+" "+(e===s?"active":"")+" "+(d.includes(e.toLowerCase())?"enabled":"disabled"),key:t},e)}))),r.a.createElement("div",{className:"row row-3"},p.row3.map((function(e,t){return r.a.createElement("div",{className:"key "+e+" "+(e===s?"active":"")+" "+(d.includes(e.toLowerCase())?"enabled":"disabled"),key:t},e)}))),r.a.createElement("div",{className:"row row-4"},p.row4.map((function(e,t){return"shift"===e?r.a.createElement("div",{className:"key "+e+" "+(c?"active":"")+" "+(d.includes(e.toLowerCase())?"enabled":"disabled"),key:t},e):r.a.createElement("div",{className:"key "+e+" "+(e===s?"active":"")+" "+(d.includes(e.toLowerCase())?"enabled":"disabled"),key:t},e)}))),r.a.createElement("div",{className:"row row-5"},p.row5.map((function(e,t){return r.a.createElement("div",{className:"key "+e+" "+(e===s?"active":"")+"  "+(d.includes(e.toLowerCase())?"enabled":"disabled"),key:t},e)}))))};a("Hpf8");var u=function(e){var t=e.text,a=e.active,c=e.correct,s=Object(n.useRef)(null);return Object(n.useEffect)((function(){s.current&&s.current.scrollIntoView({behavior:"smooth",inline:"end"})}),[a]),c?r.a.createElement("span",{className:"correct"},t," "):!1===c?r.a.createElement("span",{className:"incorrect"},t," "):a?r.a.createElement("span",{className:"active",ref:s},t," "):r.a.createElement("span",null,t," ")},m=Object(n.memo)(u);var d=function(){var e=Object(n.useContext)(i),t=e.state,a=e.refWords,c=e.activeWordIndex,s=e.correctWords,l=t.activityType;return r.a.createElement("div",{className:"reference-wrapper"},"sentence"===l?r.a.createElement("div",{className:"text-con"},a.current.map((function(e,t){return r.a.createElement(m,{key:t,text:e,active:t===c,correct:s[t]})}))):r.a.createElement("div",{className:"text-con"},r.a.createElement("div",{className:"single-word-con"},r.a.createElement(m,{key:c,text:a.current[c],correct:s[c]}))))};a("YnVx");var v=function(){var e=Object(n.useContext)(i),t=e.state,a=e.userInput,s=e.setUserInput,l=e.activeWordIndex,o=e.setActiveWordIndex,u=e.refWords,m=e.startCounting,d=e.setStartCounting,v=e.setCorrectWords,f=e.inputRef,E=e.outputText;return e.userStats,e.setUserStats,r.a.createElement("div",{className:"text-wrapper "},r.a.createElement("input",{id:"inputBox",ref:f,value:a,onChange:function(e){return a=e.target.value,"single-letter"===t.activityType&&(a+=" "),void(l!==u.current.length&&(m||d(!0),a.endsWith(" ")?(l===u.current.length-1&&d(!1),o((function(e){return e+1})),s(""),v((function(e){var t=a.trim(),n=Object(c.a)(e);return n[l]=t===u.current[l],n}))):s(a)));var a}}),"sentence"===t.activityType?r.a.createElement("div",{className:"text-con"},r.a.createElement("span",null,E.map((function(e,t){return r.a.createElement("span",{key:t},e)})))):r.a.createElement("div",{className:"text-con"},r.a.createElement("span",null,a)))};var f=function(){var e=Object(n.useContext)(i),t=e.state,a=e.setState,c=e.startCounting,s=e.correctWords,l=e.timeElapsed,o=e.setTimeElapsed,u=e.refWords,m=e.handleReset,d=(e.userStats,e.setUserStats),v=s.filter((function(e){return!1===e})).length,f=s.filter(Boolean).length,E=(f+v)/u.current.length*100,p=(f*(60/l)).toFixed(1);return Object(n.useEffect)((function(){var e;return c&&(e=setInterval((function(){o((function(e){return e+1}))}),1e3)),function(){clearInterval(e)}}),[c]),r.a.createElement("div",{className:"info-wrapper"},t.timed&&r.a.createElement("h2",null,"Time:",r.a.createElement("br",null),r.a.createElement("span",null,l)),t.progress&&r.a.createElement("h2",null,"Completed:",r.a.createElement("br",null),E.toFixed(0),"%"),t.errors&&r.a.createElement("h2",null,"Errors:",r.a.createElement("br",null),v),t.speed&&100===E&&r.a.createElement("h2",null,"WPM:",r.a.createElement("br",null),r.a.createElement("span",null,p)),100===E?r.a.createElement("button",{onClick:function(){d(Object.assign({},t,{correct:f,incorrect:v,missed:["working on this"],speed:p})),a(Object.assign({},t,{startScreenActive:!1,activityScreenActive:!1,endScreenActive:!0}))}},"continue"):r.a.createElement("button",{onClick:m},"Reset"))},E=(a("YEPY"),function(){return r.a.createElement("main",{"data-testid":"activity",className:"activity-screen"},r.a.createElement("div",{className:"layout-left"},r.a.createElement(d,null),r.a.createElement(o,null),r.a.createElement(v,null)),r.a.createElement("div",{className:"layout-right"},r.a.createElement(f,null)))}),p=function(e){e.setState,e.state;var t=Object(n.useContext)(i),a=t.handleRestart,c=t.userStats,s=t.refWords.current.length;return r.a.createElement("main",{"data-testid":"start",className:"EndScreen"},r.a.createElement("h1",{className:"intro-title"},"End Screen"),s-c.incorrect>.65*s?r.a.createElement("h3",null,"Great Job!"):r.a.createElement("h3",null,"Try Again!"),r.a.createElement("p",null,"you got ",r.a.createElement("b",null,c.correct)," correct out of ",r.a.createElement("b",null,s)),r.a.createElement("div",null,"missed text: ",c.missed.map((function(e){return r.a.createElement("span",null,e)}))),r.a.createElement("p",null,"speed: ",c.speed),r.a.createElement("button",{id:"start",className:"btn-start btn",onClick:function(){return a()}},"Restart"))},b=function(e){var t=e.setState,a=e.state,s=function(){return a.referenceText.split(" ").sort((function(){return Math.random()>.5?1:-1}))},o=Object(n.useRef)(s()),u=Object(n.useState)([]),m=u[0],d=u[1],v=Object(n.useState)(0),f=v[0],b=v[1],S=Object(n.useState)(0),y=S[0],w=S[1],h=Object(n.useState)(!1),N=h[0],g=h[1],j=Object(n.useState)([]),k=j[0],O=j[1],x=Object(n.useState)({correct:0,incorrect:0,missed:[],speed:0}),C=x[0],A=x[1],W=Object(n.useState)(""),I=W[0],T=W[1],R=Object(n.useState)(0),K=R[0],L=R[1],U=Object(n.useState)(!1),M=U[0],Y=U[1],D=Object(n.useState)(""),J=D[0],P=D[1],z=Object(n.useRef)(null),B=function(e){z.current&&z.current.focus();var t=e.key;if("Shift"===t)Y(!0),P("shift");else{if("Backspace"===t)return void e.preventDefault();if("Meta"===t)return void e.preventDefault();if(/[0-9A-F:]+/g.test(t))return void e.preventDefault();P(t),O((function(e){return[].concat(Object(c.a)(e),[t])}))}},F=function(e){"Shift"===e.key?Y(!1):P("")};Object(n.useEffect)((function(){document.addEventListener("keydown",B),document.addEventListener("keyup",F)}),[]);var V=function(){T(""),g(!1),w(0),b(0),d([]),L(0),O([]),o.current=s()};return r.a.createElement("main",{className:"App"},r.a.createElement(i.Provider,{value:{state:a,setState:t,refWords:o,getWords:s,userInput:I,setUserInput:T,shiftKey:M,setShiftKey:Y,activeWordIndex:K,setActiveWordIndex:L,correctWords:m,setCorrectWords:d,correctCount:f,setCorrectCount:b,timeElapsed:y,setTimeElapsed:w,startCounting:N,setStartCounting:g,activeKey:J,inputRef:z,outputText:k,handleReset:V,handleRestart:function(){V(),t(Object.assign({},a,{startScreenActive:!0,activityScreenActive:!1,endScreenActive:!1}))},userStats:C,setUserStats:A}},r.a.createElement("div",{className:"main-layout"},a.startScreenActive&&r.a.createElement(l,{setState:t,state:a}),a.activityScreenActive&&r.a.createElement(E,{setState:t,state:a}),a.endScreenActive&&r.a.createElement(p,{setState:t,state:a}))))};t.default=function(e){var t=e.data.sampleDataJson,a=Object(n.useState)({title:t.title,activityType:t.activityType,startImage:t.startImage,description:t.description,referenceText:t.referenceText,timed:t.timed,progress:t.progress,errors:t.errors,speed:t.speed,enabledKeys:t.enabledKeys,startScreenActive:!0,activityScreenActive:!1,endScreenActive:!1}),c=a[0],s=a[1];return r.a.createElement("div",{className:"Main "+t.slug},r.a.createElement(b,{setState:s,state:c}))}}}]);
//# sourceMappingURL=component---src-templates-template-page-js-60b12e5b6856e037381b.js.map